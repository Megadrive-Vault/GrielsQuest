#include "../inc/include.h"


const static FRASE _list [ ] =
{
	(FRASE) {      99, 99, "" },



	///////////////////////////////////////////////////////////////////////////////////////////////////////



	(FRASE) { INGLES,   1, "RISKY WOODS" },
	(FRASE) { INGLES,   1, "MURCIANO'S LAIR" },
	(FRASE) { INGLES,   1, "ABU'S DEPTHS" },
	(FRASE) { INGLES,   1, "CHUMINO BEACH" },
	(FRASE) { INGLES,   1, "KBRAH'S CASTLE" },
	(FRASE) { INGLES,   1, "DUDEWORLD" },
	(FRASE) { INGLES,   1, "You forgot something?" },
	(FRASE) { INGLES,   1, "LEVEL %02d" },

	(FRASE) { INGLES,   2, "PAUSED" },          // 0
	(FRASE) { INGLES,   2, "\\ RESUME" },       // 1
	(FRASE) { INGLES,   2, "  RESTART" },       // 2
	(FRASE) { INGLES,   2, "  GIVE UP" },       // 3
	(FRASE) { INGLES,   2, "RESTART LEVEL" },   // 4
	(FRASE) { INGLES,   2, "GIVE UP LEVEL" },   // 5
	(FRASE) { INGLES,   2, "LEVEL COMPLETED" }, // 6


	(FRASE) { INGLES,   3, "STAGE CLEAR" },

	(FRASE) { INGLES,   4, "ROUND   " },

	(FRASE) { INGLES,   5, "GOT IT!" },
	(FRASE) { INGLES,   5, "BURNING UP" },
	(FRASE) { INGLES,   5, "RED HOT" },
	(FRASE) { INGLES,   5, "HOT" },
	(FRASE) { INGLES,   5, "WARM" },
	(FRASE) { INGLES,   5, "WARMISH" },
	(FRASE) { INGLES,   5, "LUKEWARM" },
	(FRASE) { INGLES,   5, "COOL" },
	(FRASE) { INGLES,   5, "CHILLY" },
	(FRASE) { INGLES,   5, "COLD" },
	(FRASE) { INGLES,   5, "ICE" },
	(FRASE) { INGLES,   5, "BELOW ZERO" },



	///////////////////////////////////////////////////////////////////////////////////////////////////////



	(FRASE) { ESPANOL,  1, "RISKY WOODS" },
	(FRASE) { ESPANOL,  1, "GUARIDA MURCIANA" },
	(FRASE) { ESPANOL,  1, "ABISMO DE ABU" },
	(FRASE) { ESPANOL,  1, "PLAYA CHUMINO" },
	(FRASE) { ESPANOL,  1, "CASTILLO DE KBRAH" },
	(FRASE) { ESPANOL,  1, "DUDEWORLD" },
	(FRASE) { ESPANOL,  1, "¿Olvidaste algo?" },
	(FRASE) { ESPANOL,  1, "NIVEL %02d" },

	(FRASE) { ESPANOL,  2, "PAUSA" },            // 0
	(FRASE) { ESPANOL,  2, "\\ CONTINUAR" },     // 1
	(FRASE) { ESPANOL,  2, "  REINICIAR" },      // 2
	(FRASE) { ESPANOL,  2, "  SALIR" },          // 3
	(FRASE) { ESPANOL,  2, "REINICIAR NIVEL" },  // 4
	(FRASE) { ESPANOL,  2, "SALIR DE NIVEL" },   // 5
	(FRASE) { ESPANOL,  2, "NIVEL COMPLETADO" }, // 6

	(FRASE) { ESPANOL,  3, "NIVEL COMPLETADO" },

	(FRASE) { ESPANOL,  4, "NIVEL   " },

	(FRASE) { ESPANOL,  5, "¡BINGO!" }, // 13
	(FRASE) { ESPANOL,  5, "TE QUEMAS" }, // 14
	(FRASE) { ESPANOL,  5, "AL ROJO VIVO" }, // 15
	(FRASE) { ESPANOL,  5, "ARDIENDO" }, // 16
	(FRASE) { ESPANOL,  5, "CALIENTE" }, // 17
	(FRASE) { ESPANOL,  5, "TEMPLADO" }, // 18
	(FRASE) { ESPANOL,  5, "TIBIO" }, // 19
	(FRASE) { ESPANOL,  5, "FRESQUITO" }, // 20
	(FRASE) { ESPANOL,  5, "FRÍO" }, // 21
	(FRASE) { ESPANOL,  5, "CONGELADO" }, // 22
	(FRASE) { ESPANOL,  5, "BAJO CERO" }, // 23

	(FRASE) { ESPANOL,  6, "Siempre me engaña el lobo." },                           // woods
	(FRASE) { ESPANOL,  6, "Hielo para los refrescos." },                            // iceland
	(FRASE) { ESPANOL,  6, "La arena se me mete en la coquilla." },        // egypt
	(FRASE) { ESPANOL,  6, "No llevo traje de baño." },                              // beach
	//
	(FRASE) { ESPANOL,  6, "¡Oh, venga ya! No tengo todo el día." },
	(FRASE) { ESPANOL,  6, "¿No has curioseado suficiente?" },
	(FRASE) { ESPANOL,  6, "Here's Johnny!" },                                                     // The shinning ref.
	(FRASE) { ESPANOL,  6, "No puedo ir ahí, es el polímero prohibido." },                         // Monkey Island 2 refference
	(FRASE) { ESPANOL,  6, "No puedo ir ahí, es el triángulo prohibido." },                        // Monkey Island 2 refference
	(FRASE) { ESPANOL,  6, "No puedo ir ahí, es el dodecaedro prohibido." },                       // Monkey Island 2 refference
	(FRASE) { ESPANOL,  6, "Me llamo Griel Threepwood y quiero ser pirata." },                     // Monkey Island 2 refference
	(FRASE) { ESPANOL,  6, "Mira detrás de ti, ¡un mono con tres cabezas!" },                      // Monkey Island 2 refference
	(FRASE) { ESPANOL,  6, "¿Llevas un plátano en el bolsillo o es que te alegras de verme?" },    // Monkey Island 2 refference
	(FRASE) { ESPANOL,  6, "¡Más potencia, Scotty!"   },                                           // Star trek refference
	(FRASE) { ESPANOL,  6, "¿Cuántos Klingon hacen falta para cambiar una bombilla?" },            // Star trek refference
	(FRASE) { ESPANOL,  6, "¿Saben aquel que diu...?" },                                           // Eugenio LoL
	//

	(FRASE) { ESPANOL,  7, "Este es el malvado Kbrah, un villano de lo más feliz." },
	(FRASE) { ESPANOL,  7, "Secuestra princesas y las cambia de castillo." },
	(FRASE) { ESPANOL,  7, "Juega horas y horas a horribles videojuegos violentos." },
	(FRASE) { ESPANOL,  7, "Y toca en un grupo que hace despertar a los muertos. |WCLEAR Además..." },

	(FRASE) { ESPANOL,  8, "Monta fiestas con sus diabólicos amigotes. |WCLEAR Fiestas que a veces acaban mal..." },

	(FRASE) { ESPANOL,  9, "Castillo del Rey Notah. |WAIT:60 Por la mañana..." }, // "Todos comían perdices hasta que una mañana..." }, // A la mañana siguiente, el no menos fiestero Rey Notah, se despierta con su tradicional resaca..." },
	(FRASE) { ESPANOL,  9, "¿Mmmm? |WCLEAR ¿Quién ha estado hurgando aquí durante la noche? |WCLEAR ¡AAAHHHHH!" }, // El cofre real está abierto... ¡OH, NO! |BREAK |WAIT:60 ¡HAN ROBADO EL HOLY PORRÓN!" },
	(FRASE) { ESPANOL,  9, "¡MI PORRÓN HA DESAPARECIDO!" }, // El cofre real está abierto... ¡OH, NO! |BREAK |WAIT:60 ¡HAN ROBADO EL HOLY PORRÓN!" },
	(FRASE) { ESPANOL,  9, "¡La princesa tampoco está!" },
	(FRASE) { ESPANOL,  9, "Minucias. |WAIT:30 El Holy Porrón es lo más importante ahora. |WCLEAR Avisa a Griel, es el único que se acostó temprano." },


//                          //"Todo apesta a mi archienemigo Kbrah. Lo primero es el Holy porrón, pero vuelve con mi hija y te concederé su mano"
//	(FRASE) { ESPANOL, 10, "Griel, sin el poder del Holy Porrón el reino está condenado. |WBREAK ¡Debes recuperarlo cuanto antes!"},//  "Griel, han robado el Holy Porrón, su poder es temible. ¡Debes recuperarlo cuanto antes!" },
//	(FRASE) { ESPANOL, 10, "Esto apesta a mi archienemigo Kbrah. |WBREAK ¡Seguro que ha sido él!" }, // "Kbrah me la tiene jurada. |BREAK Además el salón apesta a ese truhán, seguro que ha sido él. |WCLEAR Encuentra a Kbrah y trae de vuelta el Porrón." },
//	(FRASE) { ESPANOL, 10, "¿Es cierto que también ha secuestrado a la princesa?" }, // "¿Y qué hay de la princesa? |BREAK También ha sido secuestrada..." },
//	(FRASE) { ESPANOL, 10, "¡Olvídala por ahora! |WBREAK Pero si vuelves con el Holy Porrón te concederé su mano. |WCLEAR ¡Así que ponte en marcha o el caos impondrá su ley!" }, // "Eso no importa ahora. Vuelve con el Holy Porrón y te concederé su mano. |WCLEAR ¡Ponte en marcha! |BREAK ¡El reino se desploma sin su protección!" },
                          //"Todo apesta a mi archienemigo Kbrah. Lo primero es el Holy porrón, pero vuelve con mi hija y te concederé su mano"
	(FRASE) { ESPANOL, 10, "Griel, sin el Holy Porrón el reino está perdido. |WAIT:30 ¡Debes recuperarlo cuanto antes! |WCLEAR Esto apesta a mi archienemigo Kbrah, seguro que ha sido él."},//  "Griel, han robado el Holy Porrón, su poder es temible. ¡Debes recuperarlo cuanto antes!" },
	(FRASE) { ESPANOL, 10, "¡También se ha llevado a la princesa!" }, // "¿Y qué hay de la princesa? |BREAK También ha sido secuestrada..." },
	(FRASE) { ESPANOL, 10, "Vuelve con el porrón y te concederé su mano. |WBREAK ¡Ahora largo de aquí!" },

	(FRASE) { ESPANOL, 11, "Vuelve con el Holy Porrón y te concederé la mano de mi hija. |WBREAK ¡Ahora largo de aquí!" },

	// puerta opcion 1
	(FRASE) { ESPANOL, 12, "Cerrado a cal y canto. |WCLEAR Un momento, esos huecos tienen la forma de... |WBREAK:60 ¡Los Monedones Legendarios! |WCLEAR Creo que tendré que buscarlos y ponerlos ahí, lo he visto en otros juegos. |WCLEAR ¡Vaya! Hoy no me acuesto ni a las 9." },// "Vaya, la típica puerta cerrada. |WAIT:60 |BREAK Parece que será un juego difícil. |WCLEAR Un momento, esos huecos en la pared... |WAIT:60 |BREAK Diablos, esto me va a llevar toda la tarde. |WAIT:60 |BREAK ¡Vamos allá!" },
	// puerta opcion 2
	(FRASE) { ESPANOL, 13, "Parece que no cuela. |WBREAK Mejor vuelvo luego." }, //(FRASE) { ESPANOL, 14,  "(Ese día el programador estaba vago y no enseñó a Griel a restar)" },

	// puerta opcion 3
	(FRASE) { ESPANOL, 14, "¡Qué pasada! |WAIT Pero ¿por qué tanto esfuerzo?" },
	(FRASE) { ESPANOL, 14, "Pues para abrir la puerta, vengo a ajustar cuentas con Kbrah..." },  // "¿No hacían falta para abrir la puerta? |WBREAK Tengo que hablar con Kbrah." }, // ¡Pues para abrir la puerta! |WBREAK Vengo a ajustar cuentas con Kbrah..." },
	(FRASE) { ESPANOL, 14, "Bastaba con traer unas cervezas y llamar al timbre, pringao." },
	(FRASE) { ESPANOL, 14, "¡Rayos! |WBREAK Te mataré si le cuentas esto a alguien." },

	// final 1
	(FRASE) { ESPANOL, 15, "Kbrah, bestia pestilente. |WBREAK Devuélveme el Holy Porrón. Sé que lo tienes tú." },
	(FRASE) { ESPANOL, 15, "¿En serio vienes a por ese ridículo cachivache? |WBREAK Toma, llévatelo, no me ha gustado nada..." }, // ¿Ese cacharro? |WAIT:100 |BREAK Toma, llévatelo, no me ha gustado nada..." }, //Lo cogí por hacer el gamberro. No sabía que era tan valioso. Da igual, llévatelo." },
	(FRASE) { ESPANOL, 15, "¡Uoh! |WBREAK Papi, qué chico más chachi. |WBREAK ¿Me lo puedo quedar?" },
	(FRASE) { ESPANOL, 15, "¿Qué? ¡Ni hablar! |WBREAK No te he maleducado para que ahora te juntes con caballeritos. |WCLEAR Además ya se iba, ¿verdad, campeón?" },
	(FRASE) { ESPANOL, 15, "No tan rápido malandrín, la princesa Beach también se viene conmigo." },
	(FRASE) { ESPANOL, 15, "Ya no está aquí. |WBREAK No pudimos emm... retenerla por más tiempo. |WCLEAR Y ahora coge el porrón y lárgate antes de que me arrepienta." },

	// final 2
	(FRASE) { ESPANOL, 16, "¡Fantástico, hijo! Lo has traído de vuelta. |WBREAK ¡Oh, mi Holy Porrón querido!" }, // La verdad es que no daba un duro por ti pero has hecho un buen trabajo." },
	(FRASE) { ESPANOL, 16, "¿En qué consiste su magnífico poder?" },
	(FRASE) { ESPANOL, 16, "Este mágico artefacto proporciona vino sin fin a su poseedor. |WAIT:60 Un torrente de fresco néctar, algo picao, pero infinito." },
	(FRASE) { ESPANOL, 16, "¡¿Y ESO ES TODO?! |WAIT:60 ¿PARA ESO ME HE JUGADO LA VIDA? |WCLEAR No puedo creerlo... |WAIT:60 En fin, me prometió la mano de la princesa, ¿recuerda?" }, // ¡No veo cómo contribuía a la prosperidad del reino!" },
//	(FRASE) { ESPANOL, 16, "Nos ahorra millones en vino. Además sin estar borracho no podría gobernar. |WBREAK ¡Sería el caos!" },


	// final 2 // sólo debilucho
	(FRASE) { ESPANOL, 17, "¡De eso nada! |WBREAK Te has pasado el juego en Fácil. ¿Creías que no me daría cuenta?" }, //,No permito que mi hija se vaya con alguien que termina los juegos en nivel más fácil. |WCLEAR Inténtalo de nuevo en otra dificultad y ya veremos..." }, // Además, ni siquiera estaba borracho cuando te lo prometí, así que no cuenta. Eso sí, si te traes un vasito, te lo relleno un par de veces." },
	(FRASE) { ESPANOL, 17, "Pero, pero..." },
	(FRASE) { ESPANOL, 17, "Lo siento, mi hija necesita un hombre de verdad. |WBREAK Mira, ahora vienen tus creadores... |WAIT:60 3, |WAIT:60 2, |WAIT:60 1..." }, // "Lo sé, Griel, lo sé... ha, ha, ha.
	// aquí acaba el final del debilucho

	// final 2 // tipo duro o pesadilla
//	(FRASE) { ESPANOL, 18, "Por supuesto... |WBREAK ¿No la ves desde hace años verdad? Volvió ayer de estudiar en Orkford. |WCLEAR Se ha hecho una mujercita. |WBREAK ¡BEACH, CIELO! |WBREAK ¿RECUERDAS A GRIEL?  |WBREAK ¡A VENIDO A PEDIR TU MANO!" }, // "Por supuesto... |WBREAK ¡Esta hecha una mujercita! |WCLEAR ¡BEACH, CIELO! |WBREAK ¿RECUERDAS A GRIEL? |WBREAK ¡A VENIDO A PEDIR TU MANO!" },
	(FRASE) { ESPANOL, 18, "Por supuesto... |WBREAK ¡AMORCITO, SAL!" },
	(FRASE) { ESPANOL, 18, "AVISA A LA PRINCESA. |WBREAK ¡GRIEL HA VENIDO A PEDIR SU MANO!" },
	(FRASE) { ESPANOL, 18, "Se ha hecho una mujercita, ya verás..." },
	(FRASE) { ESPANOL, 18, "¿Griel? |WBREAK ¿Eres tú...?" },

	// final 3 // tipo duro o pesadilla
	(FRASE) { ESPANOL, 19, "¡GROARRR! |BREAK ¡SI ESTÁS COMO UN QUESITO! |WBREAK ¡VEN A MIS BRAZOS, MOCETÓN!" },
	(FRASE) { ESPANOL, 19, "¡AAAAAAH! |BREAK ¡POR FAVOR NO ME DEVORES!" },
	(FRASE) { ESPANOL, 19, "¡JA, JA, JA! |BREAK ¡SÓLO UN POQUITO!" },

	// final 3 // sólo tipo duro
	(FRASE) { ESPANOL, 20, "¡AY DIOS! |WBREAK ¿SEGURO QUE NO HABÍA UN FINAL MEJOR?" }, // "¡Buah, vaya final! |WBREAK Cualquier otro hubiera sido mejor. |WBREAK Si lo sé elijo el nivel más difícil." },
	// aquí acaba el final del tipo duro

	// final 3 // sólo pesadilla
	(FRASE) { ESPANOL, 21, "¡TOMA ESTO! |WBREAK EL CHICO EN LATA ES MÍO" },
	(FRASE) { ESPANOL, 21, "......?! |WBREAK ¿Kbritah?" },
	(FRASE) { ESPANOL, 21, "¡Corre! Los guardias no tardarán en llegar." },

	// final 4 // sólo pesadilla
	(FRASE) { ESPANOL, 22, "Gracias por salvarme |WBREAK ¿Por qué lo has hecho?" },
	(FRASE) { ESPANOL, 22, "Tío, te pasaste el juego en Difícil, merecías algo mejor, ¿no? |WCLEAR Además estás tan mono con esos cuernecitos. ¡Me chiflas!" }, // Has terminado el nivel más difícil y eso no se ve todos los días. |WBREAK !ENHORABUENA!" },
	(FRASE) { ESPANOL, 22, "Vaya, gracias pero ¿no me estarás raptando, verdad?" }, // "Han sido muchas horas pero ha merecido la pena.
	(FRASE) { ESPANOL, 22, "Ja, ja, ja. |WBREAK Esto hay que celebrarlo. |WBREAK Ahora te voy a enseñar el \"verdadero\" final." },
	(FRASE) { ESPANOL, 22, "Estupendo, |WAIT:60 pues en marcha hacia la siguiente escena." } ,
	(FRASE) { ESPANOL, 22, "Oh, vaya. |WBREAK Eres más bobo de lo que imaginaba... |WAIT:180" },



	///////////////////////////////////////////////////////////////////////////////////////////////////////



	(FRASE) {       0,  0, "" }, // No quitar

};



static u8 _escaped_string [ FRASES_MAX_CHARS ];


static void _prepare_string ( u8 *string )
{
	u16 i;

	_escaped_string [ 0 ] = '\0';

	for ( i = 0; string [ i ] != '\0'; i++ )
	{
		_escaped_string [ i ] = string [ i ];

		switch ( _escaped_string [ i ] )
		{
			case 250:  _escaped_string [ i ] = 32 -  1;  break; // ú
			case 243:  _escaped_string [ i ] = 32 -  2;  break; // ó
			case 241:  _escaped_string [ i ] = 32 -  3;  break; // ñ
			case 237:  _escaped_string [ i ] = 32 -  4;  break; // í
			case 233:  _escaped_string [ i ] = 32 -  5;  break; // é
			case 225:  _escaped_string [ i ] = 32 -  6;  break; // á
			case 218:  _escaped_string [ i ] = 32 -  7;  break; // Ú
			case 211:  _escaped_string [ i ] = 32 -  8;  break; // Ó
			case 209:  _escaped_string [ i ] = 32 -  9;  break; // Ñ
			case 205:  _escaped_string [ i ] = 32 - 10;  break; // Í
			case 201:  _escaped_string [ i ] = 32 - 11;  break; // É
			case 193:  _escaped_string [ i ] = 32 - 12;  break; // Á
			case 191:  _escaped_string [ i ] = 32 - 13;  break; // ¿
			case 161:  _escaped_string [ i ] = 32 - 14;  break; // ¡
		}
	}

	_escaped_string [ i ] = '\0';
}


static u8 _next;
static u8 _grupo;



/////////////////////////////////////////////////////////////////////////////////////////////////////



void frases_init ( u8 grupo )
{
	_next  = 0;
	_grupo = grupo ;
}



u8 *frases_next ( )
{
	FRASE *f ;

	do
	{
		f = (FRASE*) & _list [ _next++ ];

		if ( f->lang == gamestate.lenguaje  &&  f->grupo == _grupo )
		{
			break;
		}
	}
	while ( f->lang );


	_prepare_string ( f->cadena ) ;

	return _escaped_string;
}



u8 *frases_find ( u8 grupo, u8 numero )
{
	u16 i        = 0;
	u16 contador = 0;

	FRASE *f ;

	do
	{
		f = (FRASE*) & _list [ i++ ];

		if ( f->lang == gamestate.lenguaje  &&  f->grupo == grupo )
		{
			if ( numero == contador++ )
			{
				break;
			}
		}
	}
	while ( f->lang );


	_prepare_string ( f->cadena ) ;

	return _escaped_string;
}
